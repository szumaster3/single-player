// 930
[clientscript,script930]
if (%varplayerbit_4538 >= 60) {
    mes("The game has ended.");
    if_close;
    return;
}
if (%varclient_185 = %varplayerbit_4538) {
    return;
}
if (%varclient_185 = 0) {
    while (%varclient_185 < %varplayerbit_4538) {
        %varclient_185 = calc(%varclient_185 + 1);
        ~script931(%varclient_185, 1);
    }
    ~script928(%varplayerbit_4538, "Sliceoflemon", "Milknosugar", interface_724:com25);
    return;
}
%varclient_185 = %varplayerbit_4538;
~script931(%varplayerbit_4538, 0);
def_int $int0 = 224;
def_int $int1 = 0;
def_int $int2 = 0;
if (%varplayerbit_4538 = calc(60 - 1)) {
    while ($int0 <= 287) {
        if (cc_find(interface_724:com27, $int0) = true) {
            if (cc_getinvobject = obj_560) {
                $int1 = calc($int1 + 1);
            } else if (cc_getinvobject = obj_565) {
                $int2 = calc($int2 + 1);
            }
        }
        $int0 = calc($int0 + 1);
    }
    if ($int1 > $int2) {
        sound_jingle(jingle_110, 6656);
        if_settext("<"Sliceoflemon"> wins!", interface_724:com25);
    } else if ($int2 > $int1) {
        sound_jingle(jingle_110, 6656);
        if_settext("<"Milknosugar"> wins!", interface_724:com25);
    } else {
        sound_jingle(jingle_108, 6449);
        if_settext("It's a draw.", interface_724:com25);
    }
    if_settext("The board is full.", interface_724:com26);
    return;
}
~script928(%varplayerbit_4538, "Sliceoflemon", "Milknosugar", interface_724:com25);
